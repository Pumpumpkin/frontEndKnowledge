<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<style>
    * {
        margin: 0;
        padding: 0;
        list-style: none;
    }

    ul {
        margin: 100px 0;
    }

    ul li {
        width: 600px;
        line-height: 50px;
        border-bottom: 1px solid #ccc;
    }

    #btn {
        color: #222;
        background-color: pink;
        border-radius: 6px;
        border: none;
        cursor: pointer;
        width: 100px;
        line-height: 40px;
        text-align: center;
        font-size: 24px;
    }

    span {
        display: inline-block;
        width: 150px;
        margin-right: 25px;
    }
</style>

<body>

    <ul id="lists"></ul>
    <button id="btn">click</button>
    <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
    <script>
        const dataList = [
            {
                name: 'pumpkin',
                age: 18,
                job: '前端开发工程师'
            },
            {
                name: 'json',
                age: 20,
                job: '摄影'
            },
            {
                name: 'allen',
                age: 30,
                job: '健身教练'
            }
        ]
        /*
        什么会影响web性能？
            1.一般下浏览器会把DOM的实现与js的实现分离开,我们访问某个DOM元素其实就是js在连接DOM
                每次连接都会消耗性能,所以要尽可能的减少访问DOM,也就是少建立连接
                举例来说:
                  js比作人(小明),DOM比作某个地方(A),小明与A之间隔了一座桥梁,小明每次去到A地方时必须打车去,打车就会付打车费
                  而js每次与DOM建立连接就好比每次小明打车到A地方去做事,每次的连接都会消耗性能(打车要付车费)
            2.操作DOM导致重排和重绘
        */
        //为什么要使用vue?
        //在使用vue或其他前端框架之前,我们都是用的jq,利用jq来操作DOM
        //但是DOM的操作频繁会影响web性能,所以讷我们应该尽量减少对DOM的操作

        // 例如:  jq实现
        const $list = $('#lists');
        function renderList(dataList) {
            let str = '';
            dataList.forEach(item => {
                str += `<li>
                                <span>${item.name}</span>
                                <span>${item.age}</span>
                                <span>${item.job}</span>
                            </li>`;
            })
            $list.html(str);
        }
        $('#btn').on('click', function () {
            dataList[0].job = 'CTO';
            dataList[1].job = 'CEO';
            dataList[2].job = 'CFO';
            renderList(dataList);
            //每次数据的变动都需要对li以及span元素进行重新渲染
            //而我们要是使用vue的话就只需要对变动的数据所依赖的那个DOM元素的内容进行修改
        })
        renderList(dataList);
    </script>
</body>

</html>